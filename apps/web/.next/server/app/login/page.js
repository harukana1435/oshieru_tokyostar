(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1201:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(8090),s=r(9409),n=r(1522),l=r.n(n),o=r(1305),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,150)),"/Users/h-okano/Dev/softbank_hackason/apps/web/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,87)),"/Users/h-okano/Dev/softbank_hackason/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,111,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/h-okano/Dev/softbank_hackason/apps/web/app/login/page.tsx"],u="/login/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},921:()=>{},7883:(e,t,r)=>{Promise.resolve().then(r.bind(r,477)),Promise.resolve().then(r.bind(r,8145))},1660:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1170,23)),Promise.resolve().then(r.t.bind(r,3082,23)),Promise.resolve().then(r.t.bind(r,6181,23)),Promise.resolve().then(r.t.bind(r,5381,23)),Promise.resolve().then(r.t.bind(r,6205,23)),Promise.resolve().then(r.t.bind(r,4266,23))},477:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthGuard:()=>o});var a=r(4297),s=r(5803),n=r(3776),l=r(6545);function o({children:e,requireAuth:t=!0}){let[r,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),d=(0,n.useRouter)();return((0,s.useEffect)(()=>{let e=()=>{let e=!!localStorage.getItem("sessionId");o(e),c(!1),t&&!e?d.push("/login"):!t&&e&&d.push("/dashboard")};e();let r=()=>{e()};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[t,d]),i||t&&!r||!t&&r)?a.jsx(l.g,{}):a.jsx(a.Fragment,{children:e})}},8145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LoginForm:()=>c});var a=r(4297),s=r(5803),n=r(3776),l=r(4209),o=r(1275),i=r(7728);function c({onLoginSuccess:e}){let[t,r]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),f=(0,n.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://oshieru-api.harukana1435.workers.dev/users/demo");if(e.ok){let t=await e.json();t.success&&m(t.users)}}catch(e){console.error("Failed to fetch demo users:",e),m([{id:"user_10000001",email:"customer1@oshieru.com",displayName:"顧客1",lifeBalance:38e4,oshiBalance:0,totalBalance:38e4},{id:"user_10000002",email:"customer2@oshieru.com",displayName:"顧客2",lifeBalance:25e4,oshiBalance:5e4,totalBalance:3e5},{id:"user_10000003",email:"customer3@oshieru.com",displayName:"顧客3",lifeBalance:15e4,oshiBalance:8e4,totalBalance:23e4}])}finally{h(!1)}})()},[]);let x=async r=>{r.preventDefault(),d(!0);try{let r=await fetch("https://oshieru-api.harukana1435.workers.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),a=await r.json();a.success?(localStorage.setItem("currentUser",JSON.stringify(a.user)),localStorage.setItem("userEmail",t),localStorage.setItem("sessionId",a.sessionId),console.log("Login successful:",a.user),e&&e(),f.push("/dashboard")):(console.error("Login failed:",a.message),alert("ログインに失敗しました。メールアドレスを確認してください。"))}catch(e){console.error("Login error:",e),alert("ネットワークエラーが発生しました。しばらく経ってからお試しください。")}finally{d(!1)}},g=async t=>{console.log("Demo login attempt for:",t);try{let r=await fetch("https://oshieru-api.harukana1435.workers.dev/auth/demo-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),a=await r.json();if(a.success){localStorage.setItem("currentUser",JSON.stringify(a.user)),localStorage.setItem("userEmail",t),localStorage.setItem("sessionId",a.sessionId),console.log("Demo login successful:",a.user),e&&e(),f.push("/dashboard");return}}catch(a){console.error("Demo login failed:",a);let r=u.find(e=>e.email===t);r&&(localStorage.setItem("currentUser",JSON.stringify(r)),localStorage.setItem("userEmail",t),localStorage.setItem("sessionId",`demo-session-${Date.now()}`),console.log("Demo login successful with error fallback:",r),e&&e(),f.push("/dashboard"))}};return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)(o.Zb,{className:"w-full max-w-md card-accent",children:[(0,a.jsxs)(o.Ol,{className:"text-center",children:[a.jsx(o.ll,{className:"heading-2",children:"ログイン"}),a.jsx(o.SZ,{className:"body-medium",children:"推しエール口座にアクセスするためにメールアドレスを入力してください"})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"email",className:"block body-small font-medium mb-2 text-neutral-700",children:"メールアドレス"}),a.jsx("input",{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),className:"input-field",placeholder:"your-email@example.com",required:!0})]}),a.jsx(l.z,{type:"submit",className:"w-full",disabled:c||!t,children:c?"処理中...":"ログイン"})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-primary-200",children:[a.jsx("p",{className:"body-small font-medium mb-3 text-neutral-700",children:"デモアカウント"}),a.jsx("div",{className:"space-y-2",children:p?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"body-small text-neutral-500",children:"残高情報を読み込み中..."})}):u.map((e,t)=>a.jsx(l.z,{onClick:t=>{t.preventDefault(),t.stopPropagation(),g(e.email)},variant:"outline",className:"w-full text-left justify-start h-auto py-3",children:(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium text-neutral-800",children:e.displayName}),(0,a.jsxs)("span",{className:"caption text-neutral-500",children:["総残高: ",(0,i.xG)(e.totalBalance),e.lifeBalance>0&&e.oshiBalance>0&&(0,a.jsxs)("span",{className:"ml-1",children:["(生活: ",(0,i.xG)(e.lifeBalance),", 推し活: ",(0,i.xG)(e.oshiBalance),")"]})]})]})},e.id))}),a.jsx("p",{className:"caption text-neutral-400 text-center mt-3",children:"実際のデータベースから取得した顧客データを体験できます"})]})]})]})})}},4209:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var a=r(4297),s=r(5803),n=r(1954),l=r(5723),o=r(7728);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-opacity-50 disabled:pointer-events-none disabled:opacity-50 touch-target",{variants:{variant:{default:"bg-primary-400 text-neutral-800 hover:bg-primary-500 active:bg-primary-600 shadow-normal hover:shadow-strong",destructive:"bg-error-500 text-white hover:bg-error-600 active:bg-error-700 shadow-normal hover:shadow-strong",outline:"border-2 border-primary-300 bg-transparent text-primary-600 hover:bg-primary-50 hover:border-primary-400 active:bg-primary-100",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200 active:bg-neutral-300 shadow-soft hover:shadow-normal",ghost:"bg-transparent text-neutral-600 hover:bg-neutral-50 hover:text-neutral-700 active:bg-neutral-100",link:"text-primary-600 underline-offset-4 hover:underline hover:text-primary-700",success:"bg-success-500 text-white hover:bg-success-600 active:bg-success-700 shadow-normal hover:shadow-strong",warning:"bg-warning-500 text-white hover:bg-warning-600 active:bg-warning-700 shadow-normal hover:shadow-strong"},size:{default:"h-11 px-4 py-2 md:px-6 md:py-3",sm:"h-9 px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm",lg:"h-12 px-6 py-3 md:px-8 md:py-4 text-base md:text-lg",icon:"h-11 w-11 p-0"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...l},c)=>{let d=s?n.g7:"button";return a.jsx(d,{className:(0,o.cn)(i({variant:t,size:r,className:e})),ref:c,...l})});c.displayName="Button"},1275:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>c,Zb:()=>l,aY:()=>d,ll:()=>i});var a=r(4297),s=r(5803),n=r(7728);let l=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("rounded-xl md:rounded-2xl border border-neutral-200 bg-white shadow-normal hover:shadow-strong transition-all duration-200 ease-in-out",e),...t}));l.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-4 md:p-6",e),...t}));o.displayName="CardHeader";let i=s.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,n.cn)("heading-3",e),...t}));i.displayName="CardTitle";let c=s.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,n.cn)("body-medium text-neutral-500",e),...t}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("p-4 md:p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-4 md:p-6 pt-0",e),...t})).displayName="CardFooter"},6545:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var a=r(4297);r(5803);var s=r(1275);function n(){return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(s.Zb,{className:"w-full max-w-md",children:a.jsx(s.aY,{className:"flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400"}),a.jsx("p",{className:"body-medium text-neutral-500",children:"読み込み中..."})]})})})})}},7728:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n,o0:()=>o,xG:()=>l});var a=r(9335),s=r(5614);function n(...e){return(0,s.m6)((0,a.W)(e))}function l(e){let t=isNaN(e)||null==e?0:e,r=new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(Math.abs(t));return t<0?`￥-${r.slice(1)}`:r}function o(e){return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(e)}},87:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l,viewport:()=>o});var a=r(1002),s=r(4263),n=r.n(s);r(1005),r(7680);let l={title:"推しエール口座",description:"健康的に推し活を続けるための口座管理アプリ"},o={width:"device-width",initialScale:1,maximumScale:1,themeColor:"#f59e0b"};function i({children:e}){return a.jsx("html",{lang:"ja",children:a.jsx("body",{className:n().className,children:e})})}},150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(1002),s=r(7460);let n=(0,s.createProxy)(String.raw`/Users/h-okano/Dev/softbank_hackason/apps/web/components/auth-guard.tsx`),{__esModule:l,$$typeof:o}=n;n.default;let i=(0,s.createProxy)(String.raw`/Users/h-okano/Dev/softbank_hackason/apps/web/components/auth-guard.tsx#AuthGuard`),c=(0,s.createProxy)(String.raw`/Users/h-okano/Dev/softbank_hackason/apps/web/components/login-form.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let m=(0,s.createProxy)(String.raw`/Users/h-okano/Dev/softbank_hackason/apps/web/components/login-form.tsx#LoginForm`);function p(){return a.jsx(i,{requireAuth:!1,children:a.jsx("main",{className:"page-container py-6",children:a.jsx(m,{})})})}},1005:()=>{},3600:(e,t,r)=>{"use strict";r.d(t,{F:()=>n,e:()=>l});var a=r(5803);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,a=e.map(e=>{let a=s(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():s(e[t],null)}}}}function l(...e){return a.useCallback(n(...e),e)}},1954:(e,t,r)=>{"use strict";r.d(t,{Z8:()=>l,g7:()=>o});var a=r(5803),s=r(3600),n=r(4297);function l(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e,l;let o=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,i=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(i.ref=t?(0,s.F)(t,o):o),a.cloneElement(r,i)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:s,...l}=e,o=a.Children.toArray(s),i=o.find(c);if(i){let e=i.props.children,s=o.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,n.jsx)(t,{...l,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var o=l("Slot"),i=Symbol("radix.slottable");function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}},5723:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var a=r(9335);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,l=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:o}=t,i=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],a=null==o?void 0:o[e];if(null===t)return null;let n=s(t)||s(a);return l[e][n]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return n(e,i,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[79,94],()=>r(1201));module.exports=a})();