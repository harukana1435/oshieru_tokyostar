(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{7188:function(e,t,r){Promise.resolve().then(r.bind(r,3721))},3721:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var a=r(9075),s=r(511),n=r(5095),l=r(7839),i=r(8698),o=r(3452),d=r(1118),c=r(9042);let u=i.fC,m=i.xz;i.x8;let f=i.h_,h=(0,o.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=s.forwardRef((e,t)=>{let{side:r="right",className:s,children:n,...l}=e;return(0,a.jsxs)(f,{children:[(0,a.jsx)(p,{}),(0,a.jsxs)(i.VY,{ref:t,className:(0,c.cn)(h({side:r}),s),...l,children:[n,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.VY.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.aV,{className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});p.displayName=i.aV.displayName;let g=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};g.displayName="SheetHeader";let b=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.Dx,{ref:t,className:(0,c.cn)("text-lg font-semibold text-foreground",r),...s})});b.displayName=i.Dx.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.dk,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",r),...s})}).displayName=i.dk.displayName;var v=r(1175),y=r(9725),N=r(8132),j=r(1354),w=r(3436),k=r(2648);function C(e){let{currentUser:t,onLogout:r,currentPage:i}=e,[o,d]=(0,s.useState)(!1),c=(0,n.useRouter)(),f=(0,n.usePathname)(),h=[{icon:v.Z,label:"ダッシュボード",path:"/dashboard"},{icon:y.Z,label:"取引管理",path:"/transactions"},{icon:N.Z,label:"スコア分析",path:"/analysis"},{icon:j.Z,label:"特典",path:"/rewards"}],p=e=>{var s;let{isMobile:n=!1}=e;return(0,a.jsxs)("div",{className:"".concat(n?"flex flex-col h-full min-h-0":""),children:[(0,a.jsx)("div",{className:"".concat(n?"mb-4":"mb-8"," p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg flex-shrink-0"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:(null==t?void 0:null===(s=t.displayName)||void 0===s?void 0:s.charAt(0))||"U"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:null==t?void 0:t.displayName}),(0,a.jsx)("p",{className:"text-sm text-gray-600 break-words leading-tight",children:null==t?void 0:t.email})]})]})}),(0,a.jsx)("nav",{className:"".concat(n?"flex-1 min-h-0 overflow-y-auto":""," space-y-2"),children:h.map(e=>(0,a.jsxs)("button",{onClick:()=>{c.push(e.path),n&&d(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(f===e.path||f.startsWith(e.path+"/")?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.label))}),(0,a.jsx)("div",{className:"".concat(n?"mt-4 pt-4":"mt-auto pt-4"," border-t border-gray-200 flex-shrink-0"),children:(0,a.jsxs)(l.z,{onClick:r,variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5 mr-3"}),"ログアウト"]})})]})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lg:hidden fixed top-4 right-4 z-50",children:(0,a.jsxs)(u,{open:o,onOpenChange:d,children:[(0,a.jsx)(m,{asChild:!0,children:(0,a.jsx)(l.z,{variant:"outline",size:"icon",className:"bg-white shadow-lg",children:(0,a.jsx)(k.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(x,{side:"right",className:"w-80 p-0 flex flex-col",children:[(0,a.jsx)(g,{className:"p-6 pb-4 flex-shrink-0",children:(0,a.jsx)(b,{className:"text-left",children:"推しエール口座"})}),(0,a.jsx)("div",{className:"px-6 pb-6 flex-1 flex flex-col min-h-0",children:(0,a.jsx)(p,{isMobile:!0})})]})]})}),(0,a.jsx)("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-200 shadow-lg",children:(0,a.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"推しエール口座"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"健康的に推し活を続けるための口座管理"})]}),(0,a.jsx)(p,{})]})})]})}var R=r(3629);function z(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),d=(0,n.useRouter)();return((0,n.usePathname)(),(0,s.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("sessionId"),t=localStorage.getItem("currentUser");if(!e||!t){d.push("/login");return}try{l(JSON.parse(t))}catch(e){console.error("Failed to parse current user:",e),d.push("/login");return}o(!1)};e();let t=()=>{e()};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[d]),i||!r)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(R.g,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{currentUser:r,onLogout:()=>{localStorage.removeItem("sessionId"),localStorage.removeItem("currentUser"),d.push("/login")}}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsx)("div",{className:"lg:ml-72",children:(0,a.jsx)("div",{className:"p-4 sm:p-6",children:(0,a.jsx)("div",{className:"pt-16 lg:pt-0",children:t})})})})]})}},7839:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(9075),s=r(511),n=r(5384),l=r(3452),i=r(9042);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-300 focus-visible:ring-opacity-50 disabled:pointer-events-none disabled:opacity-50 touch-target",{variants:{variant:{default:"bg-primary-400 text-neutral-800 hover:bg-primary-500 active:bg-primary-600 shadow-normal hover:shadow-strong",destructive:"bg-error-500 text-white hover:bg-error-600 active:bg-error-700 shadow-normal hover:shadow-strong",outline:"border-2 border-primary-300 bg-transparent text-primary-600 hover:bg-primary-50 hover:border-primary-400 active:bg-primary-100",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200 active:bg-neutral-300 shadow-soft hover:shadow-normal",ghost:"bg-transparent text-neutral-600 hover:bg-neutral-50 hover:text-neutral-700 active:bg-neutral-100",link:"text-primary-600 underline-offset-4 hover:underline hover:text-primary-700",success:"bg-success-500 text-white hover:bg-success-600 active:bg-success-700 shadow-normal hover:shadow-strong",warning:"bg-warning-500 text-white hover:bg-warning-600 active:bg-warning-700 shadow-normal hover:shadow-strong"},size:{default:"h-11 px-4 py-2 md:px-6 md:py-3",sm:"h-9 px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm",lg:"h-12 px-6 py-3 md:px-8 md:py-4 text-base md:text-lg",icon:"h-11 w-11 p-0"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:t,...c})});d.displayName="Button"},1438:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var a=r(9075),s=r(511),n=r(9042);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl md:rounded-2xl border border-neutral-200 bg-white shadow-normal hover:shadow-strong transition-all duration-200 ease-in-out",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-4 md:p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("heading-3",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("body-medium text-neutral-500",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-4 md:p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-4 md:p-6 pt-0",r),...s})}).displayName="CardFooter"},3629:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var a=r(9075);r(511);var s=r(1438);function n(){return(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)(s.Zb,{className:"w-full max-w-md",children:(0,a.jsx)(s.aY,{className:"flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400"}),(0,a.jsx)("p",{className:"body-medium text-neutral-500",children:"読み込み中..."})]})})})})}},9042:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},o0:function(){return i},xG:function(){return l}});var a=r(8273),s=r(868);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}function l(e){let t=isNaN(e)||null==e?0:e,r=new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(Math.abs(t));return t<0?"￥-".concat(r.slice(1)):r}function i(e){return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(e)}}},function(e){e.O(0,[682,50,852,999,744],function(){return e(e.s=7188)}),_N_E=e.O()}]);